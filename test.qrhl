isabelle /opt/Isabelle2016-1.



classical var a : bit.
classical var c : bit.

quantum var A : bit.
quantum var B : bit.
quantum var C : bit.



program teleport :=
  A,B <q EPR;
  on C,A apply CNOT;
  on C apply H;
  a <- measure A in computational_basis;
  c <- measure B in computational_basis;
  if (a=1) then on B apply X; else skip;
  if (c=1) then on B apply Z; else skip;
.

qrhl {Qeq[C1=A2]} call teleport; ~ skip; {Qeq[B1=A2]}.

admit.
