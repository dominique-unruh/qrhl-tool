isabelle.

classical var x : int.
classical var y : int.

quantum var Q : bit.
quantum var R : bit.



program p1 := {
  Q <q ket 1;
  y <- x+1;
}.

qrhl {⟦R1⟧ =⇩q ket 0} call p1; ~ call p1; {top}.
  inline p1.
  sp left.
    simp!.
    simp!.

  sp right.
    simp!.
    simp!.

  sp left.
    simp!.

  sp right.
    simp!.

  skip.
  simp!.
qed.
